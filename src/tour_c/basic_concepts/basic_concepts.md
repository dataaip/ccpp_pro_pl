### C 语言基本概念详解

#### 1. **C 程序结构**
   - **定义**：C 程序由文本文件（头文件 `.h` 和源文件 `.c`）组成，通过编译、链接转换为可执行文件。操作系统通过调用 `main` 函数启动程序（独立程序入口点由实现定义）。
   - **示例**：
     ```c
     // main.c
     #include <stdio.h>       // 头文件声明

     int main(void) {         // 程序入口点
         printf("Hello, C!");
         return 0;
     }
     ```
     - **编译过程**：`gcc main.c -o program` → 生成可执行文件 `program`。

#### 2. **关键字与标识符**
   - **关键字**：C 语言保留的具有固定含义的单词（如 `int`, `if`, `return`），共 32 个。
     ```c
     int float = 10; // 错误！float 是关键字，不能作变量名
     ```
   - **标识符**：用户定义的名称，规则：
     - 由字母、数字、下划线组成，首字符不能是数字。
     - 区分大小写（`data` 与 `Data` 不同）。
     - **作用场景**：
       ```c
       int counter;      // 变量标识符
       void calculate(); // 函数标识符
       struct Point;     // 结构体标签
       ```

#### 3. **作用域与名字空间**
   - **作用域**：标识符的有效范围。
     - **块作用域**：`{}` 内有效（如函数内变量）。
     - **文件作用域**：函数外声明，整个文件有效。
       ```c
       int global; // 文件作用域

       void func() {
           int local; // 块作用域（仅在 func 内有效）
       }
       ```
   - **四种名字空间**（避免命名冲突）：
     | 名字空间类型         | 示例                  |
     |----------------------|-----------------------|
     | 标签名               | `label:`（goto 标签） |
     | 结构体/联合体/枚举标签 | `struct Data {...}`   |
     | 结构体/联合体成员     | `struct { int x; }`   |
     | 普通标识符            | 变量、函数名等        |

     ```c
     struct data { int data; }; // 合法：标签 `data` 和成员 `data` 在不同名字空间
     ```

#### 4. **链接（Linkage）**
   - **定义**：决定标识符在不同作用域/翻译单元是否指向同一实体。
     - **外部链接**：`extern` 关键字，跨文件共享。
     - **内部链接**：`static` 关键字，仅当前文件有效。
     - **无链接**：局部变量。
   - **示例**：
     ```c
     // file1.c
     extern int shared; // 声明外部链接变量

     // file2.c
     int shared = 10;   // 定义外部链接变量（其他文件可访问）
     static int hidden; // 内部链接（仅 file2.c 可用）
     ```

#### 5. **函数、语句与表达式**
   - **函数定义**：包含声明、语句和表达式。
     ```c
     int add(int a, int b) { // 函数定义
         int sum = a + b;   // 声明 + 表达式
         return sum;        // 语句
     }
     ```
   - **表达式**：计算值的代码单元（如 `a + b`）。

#### 6. **对象与类型**
   - **对象**：存储数据的内存区域（变量、数组等）。
   - **类型**：决定对象的：
     - 内存大小（`sizeof(int)` 通常为 4 字节）
     - 取值范围（`int`：-2147483648 到 2147483647）
     - 可执行操作（如 `int` 支持算术运算）
   - **示例**：
     ```c
     char c = 'A';      // char 类型对象
     double arr[10];     // double 类型数组对象
     void *ptr = NULL;   // 无类型指针
     ```

---

### **总结**
| **概念**         | **核心要点**                                      | **关键示例**                          |
|------------------|--------------------------------------------------|---------------------------------------|
| 程序结构         | 头文件+源文件 → 编译 → 可执行文件 → 从 `main` 执行 | `#include <stdio.h>` + `int main()`   |
| 关键字与标识符   | 关键字保留，标识符用户定义需符合命名规则         | `int count;`（合法）`int return;`（非法） |
| 作用域与名字空间 | 作用域分块/文件级；4 种名字空间避免冲突           | 结构体标签与变量名可同名               |
| 链接             | 外部链接（跨文件）、内部链接（文件内）、无链接    | `extern` / `static` 修饰变量          |
| 函数与表达式     | 函数包含语句/表达式；表达式生成值                 | `return a + b;`（表达式计算值）        |
| 对象与类型       | 类型定义对象的内存布局与操作                      | `int x;`（4 字节整数对象）             |

C 程序的执行始于 `main` 函数，通过标识符操作类型化对象，作用域和链接控制标识符的可见性，名字空间解决命名冲突。理解这些基础概念是掌握 C 语言的核心前提。
